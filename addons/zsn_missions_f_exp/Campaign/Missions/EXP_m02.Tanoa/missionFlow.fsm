/*%FSM<COMPILE "scriptedFSM.cfg, Mission Flow">*/
/*%FSM<HEAD>*/
/*
item0[] = {"Start",0,250,-75.000000,25.000000,25.000000,75.000000,0.000000,"Start"};
item1[] = {"Client",8,218,-200.000000,25.000000,-100.000000,75.000000,0.000000,"Client"};
item2[] = {"Terminate",1,250,-200.000000,100.000000,-100.000000,150.000000,0.000000,"Terminate"};
item3[] = {"Server",4,218,-75.000000,100.000000,25.000000,150.000000,1.000000,"Server"};
item4[] = {"Intro",2,250,-75.000000,175.000000,25.000000,225.000000,0.000000,"Intro"};
item5[] = {"Intro_ended",4,218,-75.000000,250.000000,25.000000,300.000000,0.000000,"Intro ended"};
item6[] = {"Move_to_RV",2,250,-75.000000,475.000000,25.000000,525.000000,0.000000,"Move to RV"};
item7[] = {"Approaching_RV",4,218,-75.000000,550.000000,25.000000,600.000000,0.000000,"Approaching RV"};
item8[] = {"Check_fire",2,250,-75.000000,625.000000,25.000000,675.000000,0.000000,"Check fire"};
item9[] = {"",7,210,96.000000,496.000000,104.000000,504.000000,0.000000,""};
item10[] = {"",7,210,96.000000,871.000000,104.000000,879.000000,0.000000,""};
item11[] = {"",7,210,96.000000,646.000000,104.000000,654.000000,0.000000,""};
item12[] = {"Approaching",4,218,-75.000000,700.000000,25.000000,750.000000,0.000000,"Approaching"};
item13[] = {"Continue",2,250,-75.000000,775.000000,25.000000,825.000000,0.000000,"Continue"};
item14[] = {"At_RV",4,218,-75.000000,1000.000000,25.000000,1050.000000,0.000000,"At RV"};
item15[] = {"Briefing",2,250,-75.000000,1075.000000,25.000000,1125.000000,0.000000,"Briefing"};
item16[] = {"Point_of_no_retu",4,218,-75.000000,850.000000,25.000000,900.000000,0.000000,"Point of" \n "no return"};
item17[] = {"Ensure_everyone",2,250,-75.000000,925.000000,25.000000,975.000000,0.000000,"Ensure everyone's" \n "ready"};
item18[] = {"Briefing_done",4,218,-75.000000,1150.000000,25.000000,1200.000000,0.000000,"Briefing done"};
item19[] = {"Move_to_ambush",2,250,-75.000000,1225.000000,25.000000,1275.000000,0.000000,"Move to ambush"};
item20[] = {"Taking_too_long",4,218,-200.000000,1225.000000,-100.000000,1275.000000,0.000000,"Taking too long"};
item21[] = {"Too_close_to_spa",4,218,-200.000000,1525.000000,-100.000000,1575.000000,0.000000,"Too close" \n "to spawn"};
item22[] = {"Plant_the_charge",2,250,-75.000000,1675.000000,25.000000,1725.000000,0.000000,"Plant the charge"};
item23[] = {"Lay_out_the_plan",2,250,-75.000000,1375.000000,25.000000,1425.000000,0.000000,"Lay out the plan"};
item24[] = {"Charge_planted",4,218,-75.000000,1750.000000,25.000000,1800.000000,0.000000,"Charge planted"};
item25[] = {"Send_convoy",2,250,-75.000000,1825.000000,25.000000,1875.000000,0.000000,"Send convoy"};
item26[] = {"Convoy_spotted",4,218,-75.000000,1900.000000,25.000000,1950.000000,0.000000,"Convoy spotted"};
item27[] = {"Convoy_spotted",2,250,-75.000000,1975.000000,25.000000,2025.000000,0.000000,"Convoy spotted"};
item28[] = {"At_charge",4,218,-75.000000,2225.000000,25.000000,2275.000000,0.000000,"At charge"};
item29[] = {"Detonate",2,250,-75.000000,2300.000000,25.000000,2350.000000,0.000000,"Detonate"};
item30[] = {"Ambushed",4,218,-75.000000,2375.000000,25.000000,2425.000000,0.000000,"Ambushed"};
item31[] = {"Engage",2,250,-75.000000,2450.000000,25.000000,2500.000000,0.000000,"Engage"};
item32[] = {"",7,210,-104.000008,1846.000000,-95.999992,1854.000000,0.000000,""};
item33[] = {"",7,210,-103.999992,1996.000488,-96.000000,2003.999512,0.000000,""};
item34[] = {"",7,210,-104.000008,2321.000000,-95.999992,2329.000000,0.000000,""};
item35[] = {"",7,210,-103.999992,2396.000000,-96.000000,2404.000000,0.000000,""};
item36[] = {"All_dead",4,218,-75.000000,2525.000000,25.000000,2575.000000,0.000000,"All dead"};
item37[] = {"Suspicious_activity",2,250,-75.000000,2750.000000,25.000000,2800.000000,0.000000,"Suspicious" \n "activity nearby"};
item38[] = {"Nearing_charge",4,218,-75.000000,2075.000000,25.000000,2125.000000,0.000000,"Nearing charge"};
item39[] = {"Hold_fire",2,250,-75.000000,2150.000000,25.000000,2200.000000,0.000000,"Hold fire"};
item40[] = {"",7,210,-104.000008,2171.000000,-95.999992,2179.000000,0.000000,""};
item41[] = {"Orders_received",4,218,-75.000000,2825.000000,25.000000,2875.000000,0.000000,"Orders" \n "received"};
item42[] = {"Seek_and_Destroy",2,250,-75.000000,2900.000000,25.000000,2950.000000,0.000000,"Seek and" \n "Destroy"};
item43[] = {"Engaged_enemy_in",4,218,-75.000000,3125.000000,25.000000,3175.000000,0.000000,"Engaged enemy" \n "in jungle"};
item44[] = {"Confirmed_enemy",2,250,-75.000000,3200.000000,25.000000,3250.000000,0.000000,"Confirmed" \n "enemy"};
item45[] = {"Near_wreck",4,218,-75.000000,3275.000000,25.000000,3325.000000,0.000000,"Near wreck"};
item46[] = {"Search_wreck",2,250,-75.000000,3350.000000,25.000000,3400.000000,0.000000,"Search wreck"};
item47[] = {"Found_weapons",4,218,-75.000000,3425.000000,25.000000,3475.000000,0.000000,"Found weapons"};
item48[] = {"Exfil",2,250,-75.000000,3500.000000,25.000000,3550.000000,0.000000,"Exfil"};
item49[] = {"On_path",4,218,-75.000000,2975.000000,25.000000,3025.000000,0.000000,"On path"};
item50[] = {"Follow_it_down",2,250,-75.000000,3050.000000,25.000000,3100.000000,0.000000,"Follow it down"};
item51[] = {"",7,210,-104.000008,2921.000000,-95.999992,2929.000000,0.000000,""};
item52[] = {"",7,210,-103.999992,3146.000000,-96.000000,3154.000000,0.000000,""};
item53[] = {"To_exfil",4,218,-75.000000,3575.000000,25.000000,3625.000000,0.000000,"To exfil"};
item54[] = {"Moving_to_exfil",2,250,-75.000000,3650.000000,25.000000,3700.000000,0.000000,"Moving to exfil"};
item55[] = {"Helicopter_landi",4,218,-75.000000,3725.000000,25.000000,3775.000000,0.000000,"Helicopter" \n "landing"};
item56[] = {"Get_in",2,250,-75.000000,3800.000000,25.000000,3850.000000,0.000000,"Get in"};
item57[] = {"All_in",4,218,-75.000000,4025.000000,25.000000,4075.000000,0.000000,"All in"};
item58[] = {"Extracted",1,250,-75.000000,4100.000000,25.000000,4150.000000,0.000000,"Extracted"};
item59[] = {"Remind_players_to",2,250,-200.000000,1300.000000,-100.000000,1350.000000,0.000000,"Remind players" \n "to move"};
item60[] = {"Leaving_RV",4,218,-75.000000,1300.000000,25.000000,1350.000000,0.000000,"Leaving RV"};
item61[] = {"Tell_players_to",2,250,-200.000000,1600.000000,-100.000000,1650.000000,0.000000,"Tell players" \n "to return"};
item62[] = {"Member_at_ambush",4,218,-75.000000,1450.000000,25.000000,1500.000000,0.000000,"Member at" \n "ambush site"};
item63[] = {"Check_players",2,250,-75.000000,2600.000000,25.000000,2650.000000,0.000000,"Check players"};
item64[] = {"Too_close_to_spa",4,218,-200.000000,2600.000000,-100.000000,2650.000000,0.000000,"Too close" \n "to spawn"};
item65[] = {"Tell_players_to_1",2,250,-200.000000,2675.000000,-100.000000,2725.000000,0.000000,"Tell players" \n "to return"};
item66[] = {"Far_away_from_sp",4,218,-75.000000,2675.000000,25.000000,2725.000000,0.000000,"Far away" \n "from spawn"};
item67[] = {"Check_players_1",2,250,-75.000000,1525.000000,25.000000,1575.000000,0.000000,"Check players"};
item68[] = {"Far_away_from_sp",4,218,-75.000000,1600.000000,25.000000,1650.000000,0.000000,"Far away" \n "from spawn"};
item69[] = {"Most_dead",4,218,-200.000000,2450.000000,-100.000000,2500.000000,0.000000,"Most dead"};
item70[] = {"Start_cleanup",2,250,-200.000000,2525.000000,-100.000000,2575.000000,0.000000,"Start cleanup"};
item71[] = {"One_in",4,218,-75.000000,3875.000000,25.000000,3925.000000,0.000000,"One in"};
item72[] = {"Checklist",2,250,-75.000000,3950.000000,25.000000,4000.000000,0.000000,"Checklist"};
link0[] = {0,1};
link1[] = {0,3};
link2[] = {1,2};
link3[] = {3,4};
link4[] = {4,5};
link5[] = {5,6};
link6[] = {6,7};
link7[] = {6,9};
link8[] = {7,8};
link9[] = {8,11};
link10[] = {8,12};
link11[] = {9,11};
link12[] = {10,16};
link13[] = {11,10};
link14[] = {12,13};
link15[] = {13,16};
link16[] = {14,15};
link17[] = {15,18};
link18[] = {16,17};
link19[] = {17,14};
link20[] = {18,19};
link21[] = {19,20};
link22[] = {19,60};
link23[] = {20,59};
link24[] = {21,61};
link25[] = {22,24};
link26[] = {23,62};
link27[] = {24,25};
link28[] = {25,26};
link29[] = {25,32};
link30[] = {26,27};
link31[] = {27,33};
link32[] = {27,38};
link33[] = {28,29};
link34[] = {29,30};
link35[] = {29,34};
link36[] = {30,31};
link37[] = {31,36};
link38[] = {31,69};
link39[] = {32,33};
link40[] = {33,40};
link41[] = {34,35};
link42[] = {35,30};
link43[] = {36,63};
link44[] = {37,41};
link45[] = {38,39};
link46[] = {39,28};
link47[] = {39,40};
link48[] = {40,34};
link49[] = {41,42};
link50[] = {42,49};
link51[] = {42,51};
link52[] = {43,44};
link53[] = {44,45};
link54[] = {45,46};
link55[] = {46,47};
link56[] = {47,48};
link57[] = {48,53};
link58[] = {49,50};
link59[] = {50,43};
link60[] = {51,52};
link61[] = {52,43};
link62[] = {53,54};
link63[] = {54,55};
link64[] = {55,56};
link65[] = {56,71};
link66[] = {57,58};
link67[] = {59,60};
link68[] = {60,23};
link69[] = {61,68};
link70[] = {62,67};
link71[] = {63,64};
link72[] = {63,66};
link73[] = {64,65};
link74[] = {65,66};
link75[] = {66,37};
link76[] = {67,21};
link77[] = {67,68};
link78[] = {68,22};
link79[] = {69,70};
link80[] = {70,36};
link81[] = {71,72};
link82[] = {72,57};
globals[] = {0.000000,0,0,0,0,640,480,1,116,6316128,1,-939.808044,260.494568,4185.350586,3194.952393,1218,1005,1};
window[] = {2,-1,-1,-1,-1,938,75,1654,75,3,1236};
*//*%FSM</HEAD>*/
class FSM
{
        fsmName = "Mission Flow";
        class States
        {
                /*%FSM<STATE "Start">*/
                class Start
                {
                        name = "Start";
                        itemno = 0;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Server">*/
                                class Server
                                {
                                        itemno = 3;
                                        priority = 1.000000;
                                        to="Intro";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"isServer"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Client">*/
                                class Client
                                {
                                        itemno = 1;
                                        priority = 0.000000;
                                        to="Terminate";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Terminate">*/
                class Terminate
                {
                        name = "Terminate";
                        itemno = 2;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Intro">*/
                class Intro
                {
                        name = "Intro";
                        itemno = 4;
                        init = /*%FSM<STATEINIT""">*/"// Handled in BIS_fnc_EXP_m02_intro"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Intro_ended">*/
                                class Intro_ended
                                {
                                        itemno = 5;
                                        priority = 0.000000;
                                        to="Move_to_RV";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"//condition: Everyone respawned" \n
                                         "BIS_MissionStarted"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Move_to_RV">*/
                class Move_to_RV
                {
                        name = "Move_to_RV";
                        itemno = 6;
                        init = /*%FSM<STATEINIT""">*/"// Store destination for later condition" \n
                         "private _dest = markerPos ""BIS_RV"";" \n
                         "debugLog ""Mission starting"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Point_of_no_retu">*/
                                class Point_of_no_retu
                                {
                                        itemno = 16;
                                        priority = 0.000000;
                                        to="Ensure_everyone";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 10} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Approaching_RV">*/
                                class Approaching_RV
                                {
                                        itemno = 7;
                                        priority = 0.000000;
                                        to="Check_fire";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{_x in list BIS_attentionTrig} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Check_fire">*/
                class Check_fire
                {
                        name = "Check_fire";
                        itemno = 8;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""10_Watch_Fire""] spawn BIS_fnc_missionConversations;" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Point_of_no_retu">*/
                                class Point_of_no_retu
                                {
                                        itemno = 16;
                                        priority = 0.000000;
                                        to="Ensure_everyone";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 10} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Approaching">*/
                                class Approaching
                                {
                                        itemno = 12;
                                        priority = 0.000000;
                                        to="Continue";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{_x in list BIS_leftTrig} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Continue">*/
                class Continue
                {
                        name = "Continue";
                        itemno = 13;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""15_Continue""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Point_of_no_retu">*/
                                class Point_of_no_retu
                                {
                                        itemno = 16;
                                        priority = 0.000000;
                                        to="Ensure_everyone";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 10} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Briefing">*/
                class Briefing
                {
                        name = "Briefing";
                        itemno = 15;
                        init = /*%FSM<STATEINIT""">*/"// Add respawn" \n
                         "private _respawn = [" \n
                         "	WEST," \n
                         "	""BIS_RV""," \n
                         "	localize ""STR_A3_EXP_m02_Respawn_2""" \n
                         "] call BIS_fnc_addRespawnPosition;" \n
                         "" \n
                         "BIS_respawns = BIS_respawns + [_respawn];" \n
                         "" \n
                         "// Play animations" \n
                         "BIS_support2 playMoveNow ""Acts_Briefing_SA_In"";" \n
                         "BIS_support3 playMoveNow ""Acts_Briefing_SB_In"";" \n
                         "BIS_supportLead playMoveNow ""Acts_Briefing_SC_In"";" \n
                         "" \n
                         "//delete jungle group" \n
                         "{" \n
                         "	deleteVehicle _x; " \n
                         "} forEach [BIS_jungle1, BIS_jungle2, BIS_jungle3];" \n
                         "" \n
                         "// Play conversation" \n
                         """23_LOL"" spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Briefing_done">*/
                                class Briefing_done
                                {
                                        itemno = 18;
                                        priority = 0.000000;
                                        to="Move_to_ambush";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_moveOut"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Ensure_everyone">*/
                class Ensure_everyone
                {
                        name = "Ensure_everyone";
                        itemno = 17;
                        init = /*%FSM<STATEINIT""">*/""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "At_RV">*/
                                class At_RV
                                {
                                        itemno = 14;
                                        priority = 0.000000;
                                        to="Briefing";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 6} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Move_to_ambush">*/
                class Move_to_ambush
                {
                        name = "Move_to_ambush";
                        itemno = 19;
                        init = /*%FSM<STATEINIT""">*/"// Make sure IFF is displayed" \n
                         "{_x setVariable [""BIS_iconCancel"", true, true]} forEach [BIS_support2, BIS_support3];" \n
                         "" \n
                         "BIS_demoMove = true;" \n
                         "publicVariable ""BIS_demoMove"";" \n
                         "" \n
                         "// Hide marker" \n
                         """BIS_ambush"" setMarkerAlpha 0;" \n
                         "" \n
                         "// Update tasks" \n
                         "[""BIS_RV"", ""SUCCEEDED""] call BIS_fnc_missionTasks;" \n
                         """BIS_ambush"" call BIS_fnc_missionTasks;" \n
                         "" \n
                         "// Calculate destination for following condition" \n
                         "private _dest = markerPos ""BIS_RV"";" \n
                         "" \n
                         "// Timeout for player not leaving" \n
                         "private _timeOut = time + 60;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Leaving_RV">*/
                                class Leaving_RV
                                {
                                        itemno = 60;
                                        priority = 0.000000;
                                        to="Lay_out_the_plan";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 50} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Taking_too_long">*/
                                class Taking_too_long
                                {
                                        itemno = 20;
                                        priority = 0.000000;
                                        to="Remind_players_to";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"time >= _timeOut"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Plant_the_charge">*/
                class Plant_the_charge
                {
                        name = "Plant_the_charge";
                        itemno = 22;
                        init = /*%FSM<STATEINIT""">*/"// Add respawn" \n
                         "private _respawn = [" \n
                         "	WEST," \n
                         "	""BIS_respawnAmbush""," \n
                         "	localize ""STR_A3_EXP_m02_Respawn_3""	" \n
                         "] call BIS_fnc_addRespawnPosition;" \n
                         "" \n
                         "BIS_respawns = BIS_respawns + [_respawn];" \n
                         "" \n
                         "// Plant the charge" \n
                         "[] spawn BIS_fnc_EXP_m02_plantCharge;" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Charge_planted">*/
                                class Charge_planted
                                {
                                        itemno = 24;
                                        priority = 0.000000;
                                        to="Send_convoy";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_chargePlanted"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Lay_out_the_plan">*/
                class Lay_out_the_plan
                {
                        name = "Lay_out_the_plan";
                        itemno = 23;
                        init = /*%FSM<STATEINIT""">*/"// Join Support Team together" \n
                         "private _units = BIS_supportUnits - [BIS_support1];" \n
                         "(_units - [BIS_supportLead]) joinSilent BIS_supportGroup;" \n
                         "" \n
                         "// Teleport" \n
                         "{" \n
                         "	private _unit = _x;" \n
                         "	_unit setBehaviour ""AWARE"";" \n
                         "	{_unit enableAI _x} forEach [""AUTOCOMBAT"", ""AUTOTARGET"", ""MOVE"", ""TARGET""];" \n
                         "	_unit setPos [7039.87,9774.65,0];" \n
                         "	_unit switchMove """";" \n
                         "} forEach _units;" \n
                         "" \n
                         "// Let them move" \n
                         "BIS_supportMove = true;" \n
                         "" \n
                         "// Play conversation" \n
                         "[""30_Plan""] spawn BIS_fnc_missionConversations;" \n
                         "" \n
                         "// Calculate destination for following condition" \n
                         "private _dest = markerPos ""BIS_ambush"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Member_at_ambush">*/
                                class Member_at_ambush
                                {
                                        itemno = 62;
                                        priority = 0.000000;
                                        to="Check_players_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_planGiven && { BIS_demoReady }"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Send_convoy">*/
                class Send_convoy
                {
                        name = "Send_convoy";
                        itemno = 25;
                        init = /*%FSM<STATEINIT""">*/"// Send the convoy" \n
                         "[] call BIS_fnc_EXP_m02_sendConvoy;" \n
                         "" \n
                         "// Play conversation" \n
                         "[""60_Charge_Set""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Ambushed">*/
                                class Ambushed
                                {
                                        itemno = 30;
                                        priority = 0.000000;
                                        to="Engage";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_ambushed"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Convoy_spotted">*/
                                class Convoy_spotted
                                {
                                        itemno = 26;
                                        priority = 0.000000;
                                        to="Convoy_spotted";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{_x in list BIS_vehicleIn} count BIS_convoyVehicles > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Convoy_spotted">*/
                class Convoy_spotted
                {
                        name = "Convoy_spotted";
                        itemno = 27;
                        init = /*%FSM<STATEINIT""">*/"// Register that it was spotted" \n
                         "BIS_convoySpotted = true;" \n
                         "publicVariable ""BIS_convoySpotted"";" \n
                         "" \n
                         "// Play conversation" \n
                         "[""65_Convoy_Spotted""] spawn BIS_fnc_missionConversations;" \n
                         "" \n
                         "// Store destination for following condition" \n
                         "private _dest = markerPos ""BIS_ambush"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Ambushed">*/
                                class Ambushed
                                {
                                        itemno = 30;
                                        priority = 0.000000;
                                        to="Engage";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_ambushed"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Nearing_charge">*/
                                class Nearing_charge
                                {
                                        itemno = 38;
                                        priority = 0.000000;
                                        to="Hold_fire";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{_x distance _dest <= 50} count BIS_convoyVehicles > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Detonate">*/
                class Detonate
                {
                        name = "Detonate";
                        itemno = 29;
                        init = /*%FSM<STATEINIT""">*/"[] spawn {" \n
                         "	[""x20_Ambush_Backstop""] spawn BIS_fnc_missionConversations;" \n
                         "	" \n
                         "	sleep 2;" \n
                         "" \n
                         "	// Register detonation" \n
                         "	BIS_detonate = true;" \n
                         "" \n
                         "	// Delete unnecessary backup charges" \n
                         "	{deleteVehicle _x} forEach BIS_charges;" \n
                         "" \n
                         "	// Move backup unit closer" \n
                         "	BIS_miner setPos [7158.92,9592.42,0];" \n
                         "" \n
                         "	// Detonate the charge" \n
                         "	if (BIS_charge != BIS_chargeOriginal) then {BIS_ambushed = true};" \n
                         "	{_x action [""TouchOff"", _x]} forEach [BIS_support1, BIS_miner];" \n
                         "" \n
                         "	BIS_convoyTruck1 setHitPointDamage [""HitRF2Wheel"", 1];" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Ambushed">*/
                                class Ambushed
                                {
                                        itemno = 30;
                                        priority = 0.000000;
                                        to="Engage";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_ambushed"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Engage">*/
                class Engage
                {
                        name = "Engage";
                        itemno = 31;
                        init = /*%FSM<STATEINIT""">*/"// Handle ambush" \n
                         "[] call BIS_fnc_EXP_m02_ambush;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Most_dead">*/
                                class Most_dead
                                {
                                        itemno = 69;
                                        priority = 0.000000;
                                        to="Start_cleanup";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{alive _x} count BIS_convoyUnits <= 3"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "All_dead">*/
                                class All_dead
                                {
                                        itemno = 36;
                                        priority = 0.000000;
                                        to="Check_players";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{alive _x} count BIS_convoyUnits == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Suspicious_activity">*/
                class Suspicious_activity
                {
                        name = "Suspicious_activity";
                        itemno = 37;
                        init = /*%FSM<STATEINIT""">*/"// Spawn AA team" \n
                         "debugLog ""Suspicious activity"";" \n
                         "[] call BIS_fnc_EXP_m02_AAThreat;" \n
                         "" \n
                         "[] spawn {" \n
                         "	scriptName ""missionFlow.fsm: suspicious activity nearby"";" \n
                         "	" \n
                         "	sleep (5 + random 5);" \n
                         "	" \n
                         "	BIS_support1 disableAI ""AUTOCOMBAT"";" \n
                         "	BIS_support1 setUnitPos ""MIDDLE"";" \n
                         "	" \n
                         "	// Play conversation" \n
                         "	[""80_Convoy_Destroyed""] spawn BIS_fnc_missionConversations;" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Orders_received">*/
                                class Orders_received
                                {
                                        itemno = 41;
                                        priority = 0.000000;
                                        to="Seek_and_Destroy";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_seekAndDestroy"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Hold_fire">*/
                class Hold_fire
                {
                        name = "Hold_fire";
                        itemno = 39;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""70_Hold_Fire""] spawn BIS_fnc_missionConversations;" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Ambushed">*/
                                class Ambushed
                                {
                                        itemno = 30;
                                        priority = 0.000000;
                                        to="Engage";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_ambushed"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "At_charge">*/
                                class At_charge
                                {
                                        itemno = 28;
                                        priority = 0.000000;
                                        to="Detonate";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{_x distance _dest <= 9} count BIS_convoyVehicles > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Seek_and_Destroy">*/
                class Seek_and_Destroy
                {
                        name = "Seek_and_Destroy";
                        itemno = 42;
                        init = /*%FSM<STATEINIT""">*/"// Add respawn" \n
                         "private _respawn = [" \n
                         "	WEST," \n
                         "	""BIS_investigate""," \n
                         "	localize ""STR_A3_EXP_m02_Respawn_4""" \n
                         "] call BIS_fnc_addRespawnPosition;" \n
                         "" \n
                         "BIS_respawns = BIS_respawns + [_respawn];" \n
                         "" \n
                         "// Reveal marker" \n
                         """BIS_ambush"" setMarkerAlpha 1;" \n
                         "" \n
                         "// Update tasks" \n
                         "[""BIS_ambush"", ""SUCCEEDED""] call BIS_fnc_missionTasks;" \n
                         """BIS_investigate"" call BIS_fnc_missionTasks;" \n
                         "[2] call BIS_fnc_EXP_camp_addTickets;" \n
                         "" \n
                         "/*" \n
                         "[] spawn {" \n
                         "	scriptName ""missionFlow.fsm: seek and destroy"";" \n
                         "	sleep 7;" \n
                         "};" \n
                         "*/"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Engaged_enemy_in">*/
                                class Engaged_enemy_in
                                {
                                        itemno = 43;
                                        priority = 0.000000;
                                        to="Confirmed_enemy";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{!(alive _x)} count BIS_AAUnits > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "On_path">*/
                                class On_path
                                {
                                        itemno = 49;
                                        priority = 0.000000;
                                        to="Follow_it_down";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{" \n
                                         "	private _player = _x;" \n
                                         "	{vehicle _player in list _x} count BIS_pathTrigs > 0" \n
                                         "} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Confirmed_enemy">*/
                class Confirmed_enemy
                {
                        name = "Confirmed_enemy";
                        itemno = 44;
                        init = /*%FSM<STATEINIT""">*/"[] spawn {" \n
                         "	scriptName ""missionFlow.fsm: confirmed enemy"";" \n
                         "	" \n
                         "	sleep (2 + random 3);" \n
                         "	" \n
                         "	// Play conversation" \n
                         "	[""90_Confirmed_Enemy""] spawn BIS_fnc_missionConversations;" \n
                         "	" \n
                         "	// Ensure task is in correct location" \n
                         "	[""BIS_investigate"", markerPos ""BIS_returnAA""] call BIS_fnc_taskSetDestination;" \n
                         "};" \n
                         "" \n
                         "// Store destination for following condition" \n
                         "private _dest = markerPos ""BIS_AA"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Near_wreck">*/
                                class Near_wreck
                                {
                                        itemno = 45;
                                        priority = 0.000000;
                                        to="Search_wreck";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 35} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Search_wreck">*/
                class Search_wreck
                {
                        name = "Search_wreck";
                        itemno = 46;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""95_Search_Wreck""] spawn BIS_fnc_missionConversations;" \n
                         "" \n
                         "// Reposition task" \n
                         "[""BIS_investigate"", markerPos ""BIS_AA""] call BIS_fnc_taskSetDestination;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Found_weapons">*/
                                class Found_weapons
                                {
                                        itemno = 47;
                                        priority = 0.000000;
                                        to="Exfil";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 3} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Exfil">*/
                class Exfil
                {
                        name = "Exfil";
                        itemno = 48;
                        init = /*%FSM<STATEINIT""">*/"// Add respawn" \n
                         "private _respawn = [" \n
                         "	WEST," \n
                         "	""BIS_respawnAA""," \n
                         "	localize ""STR_A3_EXP_m02_Respawn_5""" \n
                         "] call BIS_fnc_addRespawnPosition;" \n
                         "" \n
                         "BIS_respawns = BIS_respawns + [_respawn];" \n
                         "" \n
                         "// Play conversation" \n
                         "[""100_Weapons_Found""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "To_exfil">*/
                                class To_exfil
                                {
                                        itemno = 53;
                                        priority = 0.000000;
                                        to="Moving_to_exfil";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"BIS_toExtract"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Follow_it_down">*/
                class Follow_it_down
                {
                        name = "Follow_it_down";
                        itemno = 50;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""85_On_Path""] spawn BIS_fnc_missionConversations;" \n
                         "// Reposition task" \n
                         "[""BIS_investigate"", markerPos ""BIS_returnAA""] call BIS_fnc_taskSetDestination;" \n
                         "" \n
                         "[] spawn {" \n
                         "	sleep 6;" \n
                         "	// Play conversation" \n
                         "	""84_2_NewIntel_Comment"" spawn BIS_fnc_missionConversations;" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Engaged_enemy_in">*/
                                class Engaged_enemy_in
                                {
                                        itemno = 43;
                                        priority = 0.000000;
                                        to="Confirmed_enemy";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{!(alive _x)} count BIS_AAUnits > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Moving_to_exfil">*/
                class Moving_to_exfil
                {
                        name = "Moving_to_exfil";
                        itemno = 54;
                        init = /*%FSM<STATEINIT""">*/"// Update tasks" \n
                         "[""BIS_investigate"", ""SUCCEEDED""] call BIS_fnc_missionTasks;" \n
                         "[1] call BIS_fnc_EXP_camp_addTickets;" \n
                         """BIS_exfil"" call BIS_fnc_missionTasks;" \n
                         "" \n
                         "// Play conversation" \n
                         "[""105_Support_Plan""] spawn BIS_fnc_missionConversations;" \n
                         "// Unhide the helicopter" \n
                         "{" \n
                         "	_x hideObjectGlobal false;" \n
                         "	_x enableSimulationGlobal true;" \n
                         "} forEach BIS_heli;" \n
                         "" \n
                         "// Store destination for the following condition" \n
                         "private _dest = markerPos ""BIS_exfil"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Helicopter_landi">*/
                                class Helicopter_landi
                                {
                                        itemno = 55;
                                        priority = 0.000000;
                                        to="Get_in";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"(getPosATL BIS_heli1) select 2 <= 5"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Get_in">*/
                class Get_in
                {
                        name = "Get_in";
                        itemno = 56;
                        init = /*%FSM<STATEINIT""">*/"// Update task position" \n
                         "[""BIS_exfil"", [BIS_heli1, true]] call BIS_fnc_taskSetDestination;" \n
                         "" \n
                         "// Open helicopter doors" \n
                         "{BIS_heli1 animateDoor [_x, 1]} forEach [""door_L"", ""door_R""];" \n
                         "" \n
                         "[""110_Helicopter_Ready""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "One_in">*/
                                class One_in
                                {
                                        itemno = 71;
                                        priority = 0.000000;
                                        to="Checklist";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{alive _x && { _x in BIS_heli1 }} count allPlayers > 0" \n
                                         ""/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Extracted">*/
                class Extracted
                {
                        name = "Extracted";
                        itemno = 58;
                        init = /*%FSM<STATEINIT""">*/"// Play ending" \n
                         "[[], ""BIS_fnc_EXP_m02_ending""] call BIS_fnc_MP;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Remind_players_to">*/
                class Remind_players_to
                {
                        name = "Remind_players_to";
                        itemno = 59;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""x01_Stalled_RV""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Leaving_RV">*/
                                class Leaving_RV
                                {
                                        itemno = 60;
                                        priority = 0.000000;
                                        to="Lay_out_the_plan";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 50} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Tell_players_to">*/
                class Tell_players_to
                {
                        name = "Tell_players_to";
                        itemno = 61;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""x05_Stalled_Preparing""] spawn BIS_fnc_missionConversations;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Far_away_from_sp">*/
                                class Far_away_from_sp
                                {
                                        itemno = 68;
                                        priority = 0.000000;
                                        to="Plant_the_charge";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Check_players">*/
                class Check_players
                {
                        name = "Check_players";
                        itemno = 63;
                        init = /*%FSM<STATEINIT""">*/"// Move Support Team back to captive" \n
                         "{_x setCaptive true} forEach BIS_supportUnits;" \n
                         "" \n
                         "// Store destination for following condition" \n
                         "private _dest = markerPos ""BIS_AA"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Far_away_from_sp">*/
                                class Far_away_from_sp
                                {
                                        itemno = 66;
                                        priority = 0.000000;
                                        to="Suspicious_activity";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Too_close_to_spa">*/
                                class Too_close_to_spa
                                {
                                        itemno = 64;
                                        priority = 0.000000;
                                        to="Tell_players_to_1";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Tell_players_to_1">*/
                class Tell_players_to_1
                {
                        name = "Tell_players_to_1";
                        itemno = 65;
                        init = /*%FSM<STATEINIT""">*/"// Play conversation" \n
                         "[""x10_Stalled_Ambushed""] spawn BIS_fnc_missionConversations;" \n
                         ""/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Far_away_from_sp">*/
                                class Far_away_from_sp
                                {
                                        itemno = 66;
                                        priority = 0.000000;
                                        to="Suspicious_activity";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Check_players_1">*/
                class Check_players_1
                {
                        name = "Check_players_1";
                        itemno = 67;
                        init = /*%FSM<STATEINIT""">*/"// Calculate destination for following conditions" \n
                         "private _dest = markerPos ""BIS_convoySpawn"";" \n
                         "publicVariable ""BIS_planGiven"";"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "Far_away_from_sp">*/
                                class Far_away_from_sp
                                {
                                        itemno = 68;
                                        priority = 0.000000;
                                        to="Plant_the_charge";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                                /*%FSM<LINK "Too_close_to_spa">*/
                                class Too_close_to_spa
                                {
                                        itemno = 21;
                                        priority = 0.000000;
                                        to="Tell_players_to";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{vehicle _x distance _dest <= 200} count allPlayers > 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Start_cleanup">*/
                class Start_cleanup
                {
                        name = "Start_cleanup";
                        itemno = 70;
                        init = /*%FSM<STATEINIT""">*/"[] spawn {" \n
                         "	scriptName ""missionFlow.fsm: start cleanup"";" \n
                         "	" \n
                         "	sleep 60;" \n
                         "	" \n
                         "	// Kill survivors" \n
                         "	{if (alive _x) then {_x setDamage 1}} forEach BIS_convoyUnits;" \n
                         "};"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "All_dead">*/
                                class All_dead
                                {
                                        itemno = 36;
                                        priority = 0.000000;
                                        to="Check_players";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"{alive _x} count BIS_convoyUnits == 0"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
                /*%FSM<STATE "Checklist">*/
                class Checklist
                {
                        name = "Checklist";
                        itemno = 72;
                        init = /*%FSM<STATEINIT""">*/"// Player checklist" \n
                         "[" \n
                         "    {true}," \n
                         "    {vehicle _player == BIS_heli1}," \n
                         "    {BIS_everyoneIn = true}" \n
                         "] call BIS_fnc_EXP_camp_playerChecklist;"/*%FSM</STATEINIT""">*/;
                        precondition = /*%FSM<STATEPRECONDITION""">*/""/*%FSM</STATEPRECONDITION""">*/;
                        class Links
                        {
                                /*%FSM<LINK "All_in">*/
                                class All_in
                                {
                                        itemno = 57;
                                        priority = 0.000000;
                                        to="Extracted";
                                        precondition = /*%FSM<CONDPRECONDITION""">*/""/*%FSM</CONDPRECONDITION""">*/;
                                        condition=/*%FSM<CONDITION""">*/"!(isNil {BIS_everyoneIn})"/*%FSM</CONDITION""">*/;
                                        action=/*%FSM<ACTION""">*/""/*%FSM</ACTION""">*/;
                                };
                                /*%FSM</LINK>*/
                        };
                };
                /*%FSM</STATE>*/
        };
        initState="Start";
        finalStates[] =
        {
                "Terminate",
                "Extracted",
        };
};
/*%FSM</COMPILE>*/